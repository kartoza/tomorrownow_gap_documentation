
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Project technical and user documentation." name="description"/>
<meta content="Kartoza" name="author"/>
<link href="../django-change-record/" rel="prev"/>
<link href="../../../developer/" rel="next"/>
<link href="../../../assets/logo.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/>
<title>Monitor Background Task - Tomorrow Now GAP</title>
<link href="../../../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../../../css/print.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="grey" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#task-status-monitoring-system">10. 
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Tomorrow Now GAP" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Tomorrow Now GAP">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Tomorrow Now GAP
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Monitor Background Task
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="grey" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="grey" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18V6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/kartoza/tomorrownow_gap.git" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    TomorrowNowGAP
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
          
  
  
    
  
  Home

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../">
          
  
  
    
  
  Administrators

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../developer/">
          
  
  
    
  
  Developers

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../devops/">
          
  
  
    
  
  Devops

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Tomorrow Now GAP" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Tomorrow Now GAP">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"></path></svg>
</a>
    Tomorrow Now GAP
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/kartoza/tomorrownow_gap.git" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    TomorrowNowGAP
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    
  
    Home
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../quick_installation/">
<span class="md-ellipsis">
    
  
    Quick installation
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../">
<span class="md-ellipsis">
    
  
    Administrators
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Administrators
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../guide/">
<span class="md-ellipsis">
    
  
    Guide
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Guide
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../guide/access-admin-panel/">
<span class="md-ellipsis">
    
  
    Access Admin Panel
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    
  
    Manual
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Manual
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../django-admin/">
<span class="md-ellipsis">
    
  
    Django Administration
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../django-table/">
<span class="md-ellipsis">
    
  
    Django Tables
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../django-add-record/">
<span class="md-ellipsis">
    
  
    Add Record in Table
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../django-change-record/">
<span class="md-ellipsis">
    
  
    Edit Record in Table
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Monitor Background Task
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    
  
    Monitor Background Task
  

    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">10.1 
<span class="md-ellipsis">
      
        Overview
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-features">10.2 
<span class="md-ellipsis">
      
        Key Features
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-format">10.3 
<span class="md-ellipsis">
      
        Configuration Format
      
    </span>
</a>
<nav aria-label="Configuration Format" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-parameters">10.3.1 
<span class="md-ellipsis">
      
        Configuration Parameters
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#available-task-statuses">10.3.2 
<span class="md-ellipsis">
      
        Available Task Statuses
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lookback-hours-explanation">10.4 
<span class="md-ellipsis">
      
        Lookback Hours Explanation
      
    </span>
</a>
<nav aria-label="Lookback Hours Explanation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-it-works">10.4.1 
<span class="md-ellipsis">
      
        How It Works
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#choosing-appropriate-lookback-windows">10.4.2 
<span class="md-ellipsis">
      
        Choosing Appropriate Lookback Windows
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-periodic-tasks-via-django-admin">10.5 
<span class="md-ellipsis">
      
        Creating Periodic Tasks via Django Admin
      
    </span>
</a>
<nav aria-label="Creating Periodic Tasks via Django Admin" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#step-1-access-django-admin">10.5.1 
<span class="md-ellipsis">
      
        Step 1: Access Django Admin
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-2-configure-basic-settings">10.5.2 
<span class="md-ellipsis">
      
        Step 2: Configure Basic Settings
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-3-configure-arguments">10.5.3 
<span class="md-ellipsis">
      
        Step 3: Configure Arguments
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-4-configure-schedule">10.5.4 
<span class="md-ellipsis">
      
        Step 4: Configure Schedule
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-5-save">10.5.5 
<span class="md-ellipsis">
      
        Step 5: Save
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-json-configurations">10.6 
<span class="md-ellipsis">
      
        Example JSON Configurations
      
    </span>
</a>
<nav aria-label="Example JSON Configurations" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#example-1-simple-hourly-task-monitoring">10.6.1 
<span class="md-ellipsis">
      
        Example 1: Simple Hourly Task Monitoring
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-2-multiple-tasks-with-dependencies">10.6.2 
<span class="md-ellipsis">
      
        Example 2: Multiple Tasks with Dependencies
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-3-daily-tasks-with-fallback-to-superusers">10.6.3 
<span class="md-ellipsis">
      
        Example 3: Daily Tasks with Fallback to Superusers
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-4-ingestorsession-with-context-validation-advanced">10.6.4 
<span class="md-ellipsis">
      
        Example 4: IngestorSession with Context Validation (Advanced)
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notification-recipient-logic">10.7 
<span class="md-ellipsis">
      
        Notification Recipient Logic
      
    </span>
</a>
<nav aria-label="Notification Recipient Logic" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#priority-order">10.7.1 
<span class="md-ellipsis">
      
        Priority Order
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recipient-resolution-examples">10.7.2 
<span class="md-ellipsis">
      
        Recipient Resolution Examples
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-superusers">10.7.3 
<span class="md-ellipsis">
      
        Setting Up Superusers
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices">10.7.4 
<span class="md-ellipsis">
      
        Best Practices
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-notifications">10.8 
<span class="md-ellipsis">
      
        Email Notifications
      
    </span>
</a>
<nav aria-label="Email Notifications" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#email-content">10.8.1 
<span class="md-ellipsis">
      
        Email Content
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-scenarios">10.8.2 
<span class="md-ellipsis">
      
        Email Scenarios
      
    </span>
</a>
<nav aria-label="Email Scenarios" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-1-status-doesnt-match-expected">
<span class="md-ellipsis">
      
        Scenario 1: Status Doesn't Match Expected
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-2-task-hasnt-executed">
<span class="md-ellipsis">
      
        Scenario 2: Task Hasn't Executed
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-3-dependent-tasks-warning">
<span class="md-ellipsis">
      
        Scenario 3: Dependent Tasks Warning
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-subjects">10.8.3 
<span class="md-ellipsis">
      
        Email Subjects
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-template-customization">10.9 
<span class="md-ellipsis">
      
        Email Template Customization
      
    </span>
</a>
<nav aria-label="Email Template Customization" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#customizing-the-template">10.9.1 
<span class="md-ellipsis">
      
        Customizing the Template
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#available-template-variables">10.9.2 
<span class="md-ellipsis">
      
        Available Template Variables
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-template-customization">10.9.3 
<span class="md-ellipsis">
      
        Example Template Customization
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-your-template">10.9.4 
<span class="md-ellipsis">
      
        Testing Your Template
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#troubleshooting">10.10 
<span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
</a>
<nav aria-label="Troubleshooting" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-task-not-appearing-in-django-admin-dropdown">10.10.1 
<span class="md-ellipsis">
      
        Issue: Task Not Appearing in Django Admin Dropdown
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-notifications-not-being-sent">10.10.2 
<span class="md-ellipsis">
      
        Issue: Notifications Not Being Sent
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-valueerror-notify_to-is-empty-but-no-superuser-found">10.10.3 
<span class="md-ellipsis">
      
        Issue: ValueError - "notify_to is empty but no superuser found"
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-task-found-but-status-not-matching">10.10.4 
<span class="md-ellipsis">
      
        Issue: Task Found But Status Not Matching
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-no-task-found-in-lookback-window">10.10.5 
<span class="md-ellipsis">
      
        Issue: No Task Found in Lookback Window
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-context-model-validation">10.11 
<span class="md-ellipsis">
      
        Advanced: Context Model Validation
      
    </span>
</a>
<nav aria-label="Advanced: Context Model Validation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#use-case">10.11.1 
<span class="md-ellipsis">
      
        Use Case
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">10.11.2 
<span class="md-ellipsis">
      
        Configuration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-it-works_1">10.11.3 
<span class="md-ellipsis">
      
        How It Works
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#supported-context-models">10.11.4 
<span class="md-ellipsis">
      
        Supported Context Models
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices_1">10.12 
<span class="md-ellipsis">
      
        Best Practices
      
    </span>
</a>
<nav aria-label="Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-start-simple">10.12.1 
<span class="md-ellipsis">
      
        1. Start Simple
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-use-descriptive-periodic-task-names">10.12.2 
<span class="md-ellipsis">
      
        2. Use Descriptive Periodic Task Names
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-set-appropriate-schedules">10.12.3 
<span class="md-ellipsis">
      
        3. Set Appropriate Schedules
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-document-dependencies">10.12.4 
<span class="md-ellipsis">
      
        4. Document Dependencies
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-test-before-production">10.12.5 
<span class="md-ellipsis">
      
        5. Test Before Production
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-monitor-the-monitor">10.12.6 
<span class="md-ellipsis">
      
        6. Monitor the Monitor
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-use-appropriate-lookback-windows">10.12.7 
<span class="md-ellipsis">
      
        7. Use Appropriate Lookback Windows
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-example-workflow">10.13 
<span class="md-ellipsis">
      
        Complete Example Workflow
      
    </span>
</a>
<nav aria-label="Complete Example Workflow" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-monitor-daily-report-generation">10.13.1 
<span class="md-ellipsis">
      
        Scenario: Monitor Daily Report Generation
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../developer/">
<span class="md-ellipsis">
    
  
    Developers
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Developers
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/architecture/">
<span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/data-model/">
<span class="md-ellipsis">
    
  
    Data model
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/hyrax-config/">
<span class="md-ellipsis">
    
  
    Hyrax Configuration
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../developer/api/guide/">
<span class="md-ellipsis">
    
  
    API Guide
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            
  
    API Guide
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/api-keys/">
<span class="md-ellipsis">
    
  
    API Keys
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Measurements API
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_5_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Measurements API
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/overview/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/ingestor-schedule/">
<span class="md-ellipsis">
    
  
    Ingestor Schedule
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/data-products/">
<span class="md-ellipsis">
    
  
    Data Products
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3_5_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_3_4" id="__nav_3_5_3_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Attributes Reference
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_3_4_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_5_3_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Attributes Reference
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/arable-stations/">
<span class="md-ellipsis">
    
  
    Arable Stations
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/cbam-daily-10day/">
<span class="md-ellipsis">
    
  
    CBAM Daily 10-day
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/cbam-hourly-4day/">
<span class="md-ellipsis">
    
  
    CBAM Hourly 4-day
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/cbam-reanalysis-bias-corrected/">
<span class="md-ellipsis">
    
  
    CBAM Reanalysis Bias-Corrected
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/cbam-reanalysis-hourly/">
<span class="md-ellipsis">
    
  
    CBAM Reanalysis Hourly
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/cbam-reanalysis-raw/">
<span class="md-ellipsis">
    
  
    CBAM Reanalysis Raw
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/disdrometer/">
<span class="md-ellipsis">
    
  
    Disdrometer
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/google-gencast/">
<span class="md-ellipsis">
    
  
    Google GenCast
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/google-graphcast/">
<span class="md-ellipsis">
    
  
    Google GraphCast
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/google-nowcast/">
<span class="md-ellipsis">
    
  
    Google Nowcast
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/radiosonde/">
<span class="md-ellipsis">
    
  
    Radiosonde
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/salient-gemv2/">
<span class="md-ellipsis">
    
  
    Salient GEMV2
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/salient-seasonal-forecast/">
<span class="md-ellipsis">
    
  
    Salient Seasonal Forecast
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/tahmo-stations/">
<span class="md-ellipsis">
    
  
    TAHMO Stations
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/attributes-reference/tamsat-ltn/">
<span class="md-ellipsis">
    
  
    TAMSAT LTN
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/getting-started/">
<span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/measurements/advanced-usage/">
<span class="md-ellipsis">
    
  
    Advanced Usage
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/access-api-using-r/">
<span class="md-ellipsis">
    
  
    Access API Using R
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/api/guide/access-api-using-jupyter/">
<span class="md-ellipsis">
    
  
    Access API Using Jupyter Notebook
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../developer/geoparquet/">
<span class="md-ellipsis">
    
  
    GAP Products
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            
  
    GAP Products
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/geoparquet/spw/">
<span class="md-ellipsis">
    
  
    SPW
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/geoparquet/spw-tamsat/">
<span class="md-ellipsis">
    
  
    SPW Tamsat
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../developer/geoparquet/dcas/">
<span class="md-ellipsis">
    
  
    DCAS
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../devops/">
<span class="md-ellipsis">
    
  
    Devops
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Devops
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../devops/guide/">
<span class="md-ellipsis">
    
  
    Guide
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../devops/manual/">
<span class="md-ellipsis">
    
  
    Manual
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../devops/migration/">
<span class="md-ellipsis">
    
  
    Migration
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">10.1 
<span class="md-ellipsis">
      
        Overview
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-features">10.2 
<span class="md-ellipsis">
      
        Key Features
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-format">10.3 
<span class="md-ellipsis">
      
        Configuration Format
      
    </span>
</a>
<nav aria-label="Configuration Format" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-parameters">10.3.1 
<span class="md-ellipsis">
      
        Configuration Parameters
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#available-task-statuses">10.3.2 
<span class="md-ellipsis">
      
        Available Task Statuses
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lookback-hours-explanation">10.4 
<span class="md-ellipsis">
      
        Lookback Hours Explanation
      
    </span>
</a>
<nav aria-label="Lookback Hours Explanation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#how-it-works">10.4.1 
<span class="md-ellipsis">
      
        How It Works
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#choosing-appropriate-lookback-windows">10.4.2 
<span class="md-ellipsis">
      
        Choosing Appropriate Lookback Windows
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-periodic-tasks-via-django-admin">10.5 
<span class="md-ellipsis">
      
        Creating Periodic Tasks via Django Admin
      
    </span>
</a>
<nav aria-label="Creating Periodic Tasks via Django Admin" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#step-1-access-django-admin">10.5.1 
<span class="md-ellipsis">
      
        Step 1: Access Django Admin
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-2-configure-basic-settings">10.5.2 
<span class="md-ellipsis">
      
        Step 2: Configure Basic Settings
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-3-configure-arguments">10.5.3 
<span class="md-ellipsis">
      
        Step 3: Configure Arguments
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-4-configure-schedule">10.5.4 
<span class="md-ellipsis">
      
        Step 4: Configure Schedule
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#step-5-save">10.5.5 
<span class="md-ellipsis">
      
        Step 5: Save
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-json-configurations">10.6 
<span class="md-ellipsis">
      
        Example JSON Configurations
      
    </span>
</a>
<nav aria-label="Example JSON Configurations" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#example-1-simple-hourly-task-monitoring">10.6.1 
<span class="md-ellipsis">
      
        Example 1: Simple Hourly Task Monitoring
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-2-multiple-tasks-with-dependencies">10.6.2 
<span class="md-ellipsis">
      
        Example 2: Multiple Tasks with Dependencies
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-3-daily-tasks-with-fallback-to-superusers">10.6.3 
<span class="md-ellipsis">
      
        Example 3: Daily Tasks with Fallback to Superusers
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-4-ingestorsession-with-context-validation-advanced">10.6.4 
<span class="md-ellipsis">
      
        Example 4: IngestorSession with Context Validation (Advanced)
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notification-recipient-logic">10.7 
<span class="md-ellipsis">
      
        Notification Recipient Logic
      
    </span>
</a>
<nav aria-label="Notification Recipient Logic" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#priority-order">10.7.1 
<span class="md-ellipsis">
      
        Priority Order
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recipient-resolution-examples">10.7.2 
<span class="md-ellipsis">
      
        Recipient Resolution Examples
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-superusers">10.7.3 
<span class="md-ellipsis">
      
        Setting Up Superusers
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices">10.7.4 
<span class="md-ellipsis">
      
        Best Practices
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-notifications">10.8 
<span class="md-ellipsis">
      
        Email Notifications
      
    </span>
</a>
<nav aria-label="Email Notifications" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#email-content">10.8.1 
<span class="md-ellipsis">
      
        Email Content
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-scenarios">10.8.2 
<span class="md-ellipsis">
      
        Email Scenarios
      
    </span>
</a>
<nav aria-label="Email Scenarios" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-1-status-doesnt-match-expected">
<span class="md-ellipsis">
      
        Scenario 1: Status Doesn't Match Expected
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-2-task-hasnt-executed">
<span class="md-ellipsis">
      
        Scenario 2: Task Hasn't Executed
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-3-dependent-tasks-warning">
<span class="md-ellipsis">
      
        Scenario 3: Dependent Tasks Warning
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-subjects">10.8.3 
<span class="md-ellipsis">
      
        Email Subjects
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-template-customization">10.9 
<span class="md-ellipsis">
      
        Email Template Customization
      
    </span>
</a>
<nav aria-label="Email Template Customization" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#customizing-the-template">10.9.1 
<span class="md-ellipsis">
      
        Customizing the Template
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#available-template-variables">10.9.2 
<span class="md-ellipsis">
      
        Available Template Variables
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#example-template-customization">10.9.3 
<span class="md-ellipsis">
      
        Example Template Customization
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#testing-your-template">10.9.4 
<span class="md-ellipsis">
      
        Testing Your Template
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#troubleshooting">10.10 
<span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
</a>
<nav aria-label="Troubleshooting" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-task-not-appearing-in-django-admin-dropdown">10.10.1 
<span class="md-ellipsis">
      
        Issue: Task Not Appearing in Django Admin Dropdown
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-notifications-not-being-sent">10.10.2 
<span class="md-ellipsis">
      
        Issue: Notifications Not Being Sent
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-valueerror-notify_to-is-empty-but-no-superuser-found">10.10.3 
<span class="md-ellipsis">
      
        Issue: ValueError - "notify_to is empty but no superuser found"
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-task-found-but-status-not-matching">10.10.4 
<span class="md-ellipsis">
      
        Issue: Task Found But Status Not Matching
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#issue-no-task-found-in-lookback-window">10.10.5 
<span class="md-ellipsis">
      
        Issue: No Task Found in Lookback Window
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-context-model-validation">10.11 
<span class="md-ellipsis">
      
        Advanced: Context Model Validation
      
    </span>
</a>
<nav aria-label="Advanced: Context Model Validation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#use-case">10.11.1 
<span class="md-ellipsis">
      
        Use Case
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">10.11.2 
<span class="md-ellipsis">
      
        Configuration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-it-works_1">10.11.3 
<span class="md-ellipsis">
      
        How It Works
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#supported-context-models">10.11.4 
<span class="md-ellipsis">
      
        Supported Context Models
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices_1">10.12 
<span class="md-ellipsis">
      
        Best Practices
      
    </span>
</a>
<nav aria-label="Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-start-simple">10.12.1 
<span class="md-ellipsis">
      
        1. Start Simple
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-use-descriptive-periodic-task-names">10.12.2 
<span class="md-ellipsis">
      
        2. Use Descriptive Periodic Task Names
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-set-appropriate-schedules">10.12.3 
<span class="md-ellipsis">
      
        3. Set Appropriate Schedules
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-document-dependencies">10.12.4 
<span class="md-ellipsis">
      
        4. Document Dependencies
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-test-before-production">10.12.5 
<span class="md-ellipsis">
      
        5. Test Before Production
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-monitor-the-monitor">10.12.6 
<span class="md-ellipsis">
      
        6. Monitor the Monitor
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-use-appropriate-lookback-windows">10.12.7 
<span class="md-ellipsis">
      
        7. Use Appropriate Lookback Windows
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-example-workflow">10.13 
<span class="md-ellipsis">
      
        Complete Example Workflow
      
    </span>
</a>
<nav aria-label="Complete Example Workflow" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#scenario-monitor-daily-report-generation">10.13.1 
<span class="md-ellipsis">
      
        Scenario: Monitor Daily Report Generation
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<div><h1 id="task-status-monitoring-system"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.</span> Task Status Monitoring System<a class="headerlink" href="#task-status-monitoring-system" title="Permanent link"></a></h1>
<h2 id="overview"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.1</span> Overview<a class="headerlink" href="#overview" title="Permanent link"></a></h2>
<p>The Task Status Monitoring System provides automated monitoring of background Celery tasks and sends email notifications when tasks don't reach expected statuses within specified time windows. This helps administrators proactively detect and respond to task failures or delays.</p>
<h2 id="key-features"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.2</span> Key Features<a class="headerlink" href="#key-features" title="Permanent link"></a></h2>
<ul>
<li><strong>Automated Status Checking</strong> - Monitor multiple tasks with customizable status expectations</li>
<li><strong>Lookback Window</strong> - Configurable time window for checking task execution</li>
<li><strong>Email Notifications</strong> - HTML email alerts with detailed task information</li>
<li><strong>Dependent Task Warnings</strong> - Track and warn about downstream task impacts</li>
<li><strong>Flexible Recipients</strong> - Custom email lists or automatic superuser fallback</li>
<li><strong>Context Validation</strong> - Advanced filtering by task context type (e.g., specific ingestor types)</li>
</ul>
<hr/>
<h2 id="configuration-format"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.3</span> Configuration Format<a class="headerlink" href="#configuration-format" title="Permanent link"></a></h2>
<p>The monitoring task accepts a configuration dictionary that maps task names to their monitoring settings:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="p">{</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>    <span class="s2">"task_name"</span><span class="p">:</span> <span class="p">{</span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>        <span class="s2">"expected_statuses"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>           <span class="c1"># Required</span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>        <span class="s2">"notify_to"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"admin@example.com"</span><span class="p">],</span>           <span class="c1"># Optional</span>
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a>        <span class="s2">"dependent_tasks"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Task Y"</span><span class="p">,</span> <span class="s2">"Task Z"</span><span class="p">],</span>      <span class="c1"># Optional</span>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a>        <span class="s2">"lookback_hours"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                          <span class="c1"># Optional, default: 1</span>
<a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>        <span class="s2">"context_model"</span><span class="p">:</span> <span class="s2">"gap.models.IngestorSession"</span><span class="p">,</span> <span class="c1"># Optional (advanced)</span>
<a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>        <span class="s2">"context_type"</span><span class="p">:</span> <span class="s2">"Hourly Tomorrow.io"</span>          <span class="c1"># Optional (advanced)</span>
<a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="p">}</span>
<a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="p">}</span>
</code></pre></div>
<h3 id="configuration-parameters"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.3.1</span> Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Permanent link"></a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>expected_statuses</code></td>
<td>List[str]</td>
<td><strong>Yes</strong></td>
<td>-</td>
<td>List of acceptable task statuses (e.g., <code>["Completed"]</code>, <code>["Completed", "Running"]</code>)</td>
</tr>
<tr>
<td><code>notify_to</code></td>
<td>List[str]</td>
<td>No</td>
<td>Superusers</td>
<td>Email addresses to notify. If empty or not specified, notifications are sent to all superusers</td>
</tr>
<tr>
<td><code>dependent_tasks</code></td>
<td>List[str]</td>
<td>No</td>
<td><code>[]</code></td>
<td>List of task names that depend on this task. Warnings are included in notification emails</td>
</tr>
<tr>
<td><code>lookback_hours</code></td>
<td>int/float</td>
<td>No</td>
<td><code>1</code></td>
<td>Time window (in hours) to check for task execution. Can be integer or decimal (e.g., <code>1.5</code>)</td>
</tr>
<tr>
<td><code>context_model</code></td>
<td>str</td>
<td>No</td>
<td>-</td>
<td>Model path for context validation (e.g., <code>"gap.models.IngestorSession"</code>)</td>
</tr>
<tr>
<td><code>context_type</code></td>
<td>str</td>
<td>No</td>
<td>-</td>
<td>Expected context type for filtering (e.g., <code>"Hourly Tomorrow.io"</code>)</td>
</tr>
</tbody>
</table>
<h3 id="available-task-statuses"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.3.2</span> Available Task Statuses<a class="headerlink" href="#available-task-statuses" title="Permanent link"></a></h3>
<p>The following status values can be used in <code>expected_statuses</code>:</p>
<ul>
<li><code>Pending</code> - Task submitted but not queued</li>
<li><code>Queued</code> - Task queued for execution</li>
<li><code>Running</code> - Task currently executing</li>
<li><code>Completed</code> - Task finished successfully</li>
<li><code>Stopped</code> - Task stopped with error</li>
<li><code>Cancelled</code> - Task was cancelled</li>
<li><code>Invalidated</code> - Task was invalidated for retry</li>
</ul>
<p><strong>Common configurations:</strong>
- <code>["Completed"]</code> - Only accept successful completion
- <code>["Completed", "Running"]</code> - Accept if completed or still running
- <code>["Completed", "Stopped"]</code> - Accept both success and failure (for monitoring only)</p>
<hr/>
<h2 id="lookback-hours-explanation"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.4</span> Lookback Hours Explanation<a class="headerlink" href="#lookback-hours-explanation" title="Permanent link"></a></h2>
<p>The <code>lookback_hours</code> parameter defines the time window for checking task execution history. It determines how far back the system should look when searching for the most recent task execution.</p>
<h3 id="how-it-works"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.4.1</span> How It Works<a class="headerlink" href="#how-it-works" title="Permanent link"></a></h3>
<p>When a monitoring check runs:
1. Calculate the lookback threshold: <code>current_time - lookback_hours</code>
2. Query for the most recent task with <code>started_at &gt;= lookback_threshold</code>
3. Check if the status matches expected values
4. Send notification if no task found or status doesn't match</p>
<h3 id="choosing-appropriate-lookback-windows"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.4.2</span> Choosing Appropriate Lookback Windows<a class="headerlink" href="#choosing-appropriate-lookback-windows" title="Permanent link"></a></h3>
<p><strong>Guidelines:</strong></p>
<table>
<thead>
<tr>
<th>Task Frequency</th>
<th>Recommended Lookback</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Every hour</td>
<td>1-2 hours</td>
<td>Hourly data collection tasks</td>
</tr>
<tr>
<td>Every 2 hours</td>
<td>2-3 hours</td>
<td>Bi-hourly processing tasks</td>
</tr>
<tr>
<td>Daily</td>
<td>24-25 hours</td>
<td>Daily report generation</td>
</tr>
<tr>
<td>Weekly</td>
<td>168-170 hours (7+ days)</td>
<td>Weekly aggregation tasks</td>
</tr>
</tbody>
</table>
<p><strong>Best Practices:</strong></p>
<ol>
<li><strong>Make it slightly longer than task interval</strong></li>
<li>For a task expected every hour, use <code>lookback_hours: 1.5</code> or <code>2</code></li>
<li>
<p>This accommodates normal variations in task duration</p>
</li>
<li>
<p><strong>Account for delays</strong></p>
</li>
<li>If tasks occasionally take longer, increase the window</li>
<li>
<p>Example: A task usually completes in 30 min but sometimes takes 2 hours  use <code>lookback_hours: 3</code></p>
</li>
<li>
<p><strong>Consider monitoring frequency</strong></p>
</li>
<li>If you check every hour, lookback of 1 hour is usually sufficient</li>
<li>
<p>If you check less frequently, increase the lookback window proportionally</p>
</li>
<li>
<p><strong>Use decimal values for precision</strong></p>
</li>
<li><code>lookback_hours: 1.5</code> checks last 1.5 hours (90 minutes)</li>
<li>Useful for fine-tuning monitoring windows</li>
</ol>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1"># Hourly task checked 5 minutes after expected completion</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="p">{</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a>    <span class="s2">"hourly_data_sync"</span><span class="p">:</span> <span class="p">{</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a>        <span class="s2">"expected_statuses"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>        <span class="s2">"lookback_hours"</span><span class="p">:</span> <span class="mi">1</span>  <span class="c1"># Check last hour</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>    <span class="p">}</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="p">}</span>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="c1"># Daily task with variable duration</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="p">{</span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>    <span class="s2">"daily_report"</span><span class="p">:</span> <span class="p">{</span>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a>        <span class="s2">"expected_statuses"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a>        <span class="s2">"lookback_hours"</span><span class="p">:</span> <span class="mi">25</span>  <span class="c1"># Check last 25 hours (daily + buffer)</span>
<a href="#__codelineno-1-14" id="__codelineno-1-14" name="__codelineno-1-14"></a>    <span class="p">}</span>
<a href="#__codelineno-1-15" id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="p">}</span>
<a href="#__codelineno-1-16" id="__codelineno-1-16" name="__codelineno-1-16"></a>
<a href="#__codelineno-1-17" id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="c1"># Bi-hourly task with tolerance</span>
<a href="#__codelineno-1-18" id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="p">{</span>
<a href="#__codelineno-1-19" id="__codelineno-1-19" name="__codelineno-1-19"></a>    <span class="s2">"data_processing"</span><span class="p">:</span> <span class="p">{</span>
<a href="#__codelineno-1-20" id="__codelineno-1-20" name="__codelineno-1-20"></a>        <span class="s2">"expected_statuses"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Completed"</span><span class="p">,</span> <span class="s2">"Running"</span><span class="p">],</span>
<a href="#__codelineno-1-21" id="__codelineno-1-21" name="__codelineno-1-21"></a>        <span class="s2">"lookback_hours"</span><span class="p">:</span> <span class="mf">2.5</span>  <span class="c1"># Check last 2.5 hours</span>
<a href="#__codelineno-1-22" id="__codelineno-1-22" name="__codelineno-1-22"></a>    <span class="p">}</span>
<a href="#__codelineno-1-23" id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="p">}</span>
</code></pre></div>
<hr/>
<h2 id="creating-periodic-tasks-via-django-admin"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.5</span> Creating Periodic Tasks via Django Admin<a class="headerlink" href="#creating-periodic-tasks-via-django-admin" title="Permanent link"></a></h2>
<h3 id="step-1-access-django-admin"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.5.1</span> Step 1: Access Django Admin<a class="headerlink" href="#step-1-access-django-admin" title="Permanent link"></a></h3>
<p>Navigate to: <strong>Django Admin  Periodic Tasks  Add Periodic Task</strong></p>
<h3 id="step-2-configure-basic-settings"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.5.2</span> Step 2: Configure Basic Settings<a class="headerlink" href="#step-2-configure-basic-settings" title="Permanent link"></a></h3>
<p><strong>Name:</strong> Give your monitoring task a descriptive name
Example: <code>Monitor Critical Data Collection Tasks</code></p>
<p><strong>Task (registered):</strong> Type or select <code>monitor_task_status</code>
Note: You may need to type this manually if it doesn't appear in the dropdown</p>
<p><strong>Enabled:</strong>  Check this box to activate monitoring</p>
<h3 id="step-3-configure-arguments"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.5.3</span> Step 3: Configure Arguments<a class="headerlink" href="#step-3-configure-arguments" title="Permanent link"></a></h3>
<p>The <code>Arguments</code> field accepts JSON array with one dictionary containing your monitoring configuration:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="p">[</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="nt">"task_name_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">      </span><span class="nt">"notify_to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"admin@example.com"</span><span class="p">],</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">      </span><span class="nt">"dependent_tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"task_name_2"</span><span class="p">],</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">    </span><span class="p">},</span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="nt">"task_name_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Important:</strong> The JSON must be an array containing a single dictionary (note the outer <code>[</code> and <code>]</code>).</p>
<h3 id="step-4-configure-schedule"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.5.4</span> Step 4: Configure Schedule<a class="headerlink" href="#step-4-configure-schedule" title="Permanent link"></a></h3>
<p><strong>Option A: Crontab Schedule</strong></p>
<p>Click "Create new Crontab Schedule" or select existing:</p>
<table>
<thead>
<tr>
<th>Example</th>
<th>Crontab</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Every hour at :05</td>
<td><code>5 * * * *</code></td>
<td>Runs at 00:05, 01:05, 02:05, etc.</td>
</tr>
<tr>
<td>Every 2 hours at :05</td>
<td><code>5 */2 * * *</code></td>
<td>Runs at 00:05, 02:05, 04:05, etc.</td>
</tr>
<tr>
<td>Daily at 10:05 AM UTC</td>
<td><code>5 10 * * *</code></td>
<td>Runs once daily at 10:05 AM</td>
</tr>
<tr>
<td>Every 30 minutes</td>
<td><code>*/30 * * * *</code></td>
<td>Runs at :00 and :30 every hour</td>
</tr>
<tr>
<td>Monday at 9:00 AM</td>
<td><code>0 9 * * 1</code></td>
<td>Runs weekly on Monday</td>
</tr>
</tbody>
</table>
<p><strong>Option B: Interval Schedule</strong></p>
<p>For simpler intervals like "every X minutes/hours":
- Every 30 minutes: Period=30, Unit=Minutes
- Every 2 hours: Period=2, Unit=Hours</p>
<h3 id="step-5-save"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.5.5</span> Step 5: Save<a class="headerlink" href="#step-5-save" title="Permanent link"></a></h3>
<p>Click <strong>Save</strong> to activate the monitoring task.</p>
<hr/>
<h2 id="example-json-configurations"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.6</span> Example JSON Configurations<a class="headerlink" href="#example-json-configurations" title="Permanent link"></a></h2>
<h3 id="example-1-simple-hourly-task-monitoring"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.6.1</span> Example 1: Simple Hourly Task Monitoring<a class="headerlink" href="#example-1-simple-hourly-task-monitoring" title="Permanent link"></a></h3>
<p>Monitor a single hourly task, check 5 minutes after expected completion:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="p">[</span>
<a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="nt">"hourly_data_sync"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">      </span><span class="nt">"notify_to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"data-team@example.com"</span><span class="p">],</span>
<a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Crontab:</strong> <code>5 * * * *</code> (every hour at :05)</p>
<h3 id="example-2-multiple-tasks-with-dependencies"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.6.2</span> Example 2: Multiple Tasks with Dependencies<a class="headerlink" href="#example-2-multiple-tasks-with-dependencies" title="Permanent link"></a></h3>
<p>Monitor a data pipeline with dependent tasks:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="p">[</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="nt">"data_collection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">      </span><span class="nt">"notify_to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ops@example.com"</span><span class="p">],</span>
<a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">      </span><span class="nt">"dependent_tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"data_processing"</span><span class="p">,</span><span class="w"> </span><span class="s2">"data_export"</span><span class="p">],</span>
<a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="p">},</span>
<a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">    </span><span class="nt">"data_processing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">],</span>
<a href="#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">      </span><span class="nt">"dependent_tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"data_export"</span><span class="p">],</span>
<a href="#__codelineno-4-12" id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a href="#__codelineno-4-13" id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">    </span><span class="p">},</span>
<a href="#__codelineno-4-14" id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="w">    </span><span class="nt">"data_export"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-4-15" id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-4-16" id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<a href="#__codelineno-4-17" id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-4-18" id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-4-19" id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Crontab:</strong> <code>*/30 * * * *</code> (every 30 minutes)</p>
<h3 id="example-3-daily-tasks-with-fallback-to-superusers"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.6.3</span> Example 3: Daily Tasks with Fallback to Superusers<a class="headerlink" href="#example-3-daily-tasks-with-fallback-to-superusers" title="Permanent link"></a></h3>
<p>Monitor daily tasks without specifying recipients (uses superusers):</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="p">[</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span><span class="nt">"daily_report_generation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">    </span><span class="p">},</span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">    </span><span class="nt">"daily_cleanup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span>
<a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Crontab:</strong> <code>5 9 * * *</code> (daily at 9:05 AM UTC)</p>
<h3 id="example-4-ingestorsession-with-context-validation-advanced"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.6.4</span> Example 4: IngestorSession with Context Validation (Advanced)<a class="headerlink" href="#example-4-ingestorsession-with-context-validation-advanced" title="Permanent link"></a></h3>
<p>Monitor specific ingestor type execution:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="p">[</span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="nt">"ingestor_session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">      </span><span class="nt">"context_model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gap.models.IngestorSession"</span><span class="p">,</span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">      </span><span class="nt">"context_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly Tomorrow.io"</span><span class="p">,</span>
<a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">      </span><span class="nt">"notify_to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"weather-team@example.com"</span><span class="p">],</span>
<a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">      </span><span class="nt">"dependent_tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"forecast_processing"</span><span class="p">],</span>
<a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Crontab:</strong> <code>5 */2 * * *</code> (every 2 hours at :05)</p>
<hr/>
<h2 id="notification-recipient-logic"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.7</span> Notification Recipient Logic<a class="headerlink" href="#notification-recipient-logic" title="Permanent link"></a></h2>
<p>The system determines email recipients using the following logic:</p>
<h3 id="priority-order"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.7.1</span> Priority Order<a class="headerlink" href="#priority-order" title="Permanent link"></a></h3>
<ol>
<li><strong>Custom Recipients</strong> - If <code>notify_to</code> is specified and not empty</li>
<li>Emails are sent to the specified addresses</li>
<li>
<p>Superusers are NOT included automatically</p>
</li>
<li>
<p><strong>Superuser Fallback</strong> - If <code>notify_to</code> is not specified or empty</p>
</li>
<li>System fetches all superuser emails from Django User model</li>
<li>
<p>Only superusers with valid, non-empty email addresses are included</p>
</li>
<li>
<p><strong>No Recipients Error</strong> - If both conditions fail</p>
</li>
<li>A <code>ValueError</code> exception is raised</li>
<li>The full email content is logged to error logs</li>
<li>Task monitoring fails with clear error message</li>
</ol>
<h3 id="recipient-resolution-examples"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.7.2</span> Recipient Resolution Examples<a class="headerlink" href="#recipient-resolution-examples" title="Permanent link"></a></h3>
<p><strong>Example 1: Custom Recipients</strong>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="s2">"notify_to"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"admin@example.com"</span><span class="p">,</span> <span class="s2">"devops@example.com"</span><span class="p">]</span>
</code></pre></div>
 Emails sent to: <code>admin@example.com</code>, <code>devops@example.com</code>
<p><strong>Example 2: Empty notify_to (Superuser Fallback)</strong>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="s2">"notify_to"</span><span class="p">:</span> <span class="p">[]</span>  <span class="c1"># or not specified</span>
</code></pre></div>
 Emails sent to: All superusers with email addresses
<p><strong>Example 3: No Recipients Available</strong>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="s2">"notify_to"</span><span class="p">:</span> <span class="p">[]</span>  <span class="c1"># Empty</span>
<a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="c1"># AND no superusers exist</span>
</code></pre></div>
 <strong>Error:</strong> <code>ValueError: notify_to is empty but no superuser found for task 'task_name'</code>
<h3 id="setting-up-superusers"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.7.3</span> Setting Up Superusers<a class="headerlink" href="#setting-up-superusers" title="Permanent link"></a></h3>
<p>If you want to use the superuser fallback:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a>python<span class="w"> </span>manage.py<span class="w"> </span>createsuperuser
</code></pre></div>
<p>Ensure the superuser has a valid email address during creation.</p>
<h3 id="best-practices"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.7.4</span> Best Practices<a class="headerlink" href="#best-practices" title="Permanent link"></a></h3>
<ol>
<li><strong>Use explicit <code>notify_to</code> for critical tasks</strong></li>
<li>Ensures specific people are notified</li>
<li>
<p>Not dependent on superuser configuration</p>
</li>
<li>
<p><strong>Use superuser fallback for general monitoring</strong></p>
</li>
<li>Automatic recipient management</li>
<li>
<p>New superusers automatically receive notifications</p>
</li>
<li>
<p><strong>Always have at least one notification method</strong></p>
</li>
<li>Either specify <code>notify_to</code> OR ensure superusers exist</li>
<li>System will raise error if neither is available</li>
</ol>
<hr/>
<h2 id="email-notifications"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.8</span> Email Notifications<a class="headerlink" href="#email-notifications" title="Permanent link"></a></h2>
<h3 id="email-content"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.8.1</span> Email Content<a class="headerlink" href="#email-content" title="Permanent link"></a></h3>
<p>Notification emails include:</p>
<ul>
<li><strong>Task name</strong> - Identifies which task has an issue</li>
<li><strong>Current status</strong> - Actual status found (or "No execution found")</li>
<li><strong>Expected status(es)</strong> - What statuses were acceptable</li>
<li><strong>Lookback window</strong> - Time window checked (e.g., "Last 1 hour(s)")</li>
<li><strong>Execution times</strong> - When task last started/finished (if available)</li>
<li><strong>Check timestamp</strong> - When the monitoring check was performed</li>
<li><strong>Dependent tasks warning</strong> - Tasks that may be affected (if specified)</li>
</ul>
<h3 id="email-scenarios"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.8.2</span> Email Scenarios<a class="headerlink" href="#email-scenarios" title="Permanent link"></a></h3>
<h4 id="scenario-1-status-doesnt-match-expected"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.8.2.1</span> Scenario 1: Status Doesn't Match Expected<a class="headerlink" href="#scenario-1-status-doesnt-match-expected" title="Permanent link"></a></h4>
<p>When a task is found but has wrong status:</p>
<p><img alt="Task Status Not Matching" src="../img/django-monitor-task-2.png"/></p>
<p><strong>Subject:</strong> <code>[ALERT] {task_name} Status Check Failed</code></p>
<p><strong>Key Information:</strong>
- Shows actual status vs expected status
- Includes execution timestamps
- Provides lookback window context</p>
<h4 id="scenario-2-task-hasnt-executed"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.8.2.2</span> Scenario 2: Task Hasn't Executed<a class="headerlink" href="#scenario-2-task-hasnt-executed" title="Permanent link"></a></h4>
<p>When no task execution found within lookback window:</p>
<p><img alt="No Task Found" src="../img/django-monitor-task-3.png"/></p>
<p><strong>Subject:</strong> <code>[ALERT] {task_name} Has Not Executed</code></p>
<p><strong>Key Information:</strong>
- Clear "No execution found" status
- Shows the time window checked
- Note about task not executing within expected timeframe</p>
<h4 id="scenario-3-dependent-tasks-warning"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.8.2.3</span> Scenario 3: Dependent Tasks Warning<a class="headerlink" href="#scenario-3-dependent-tasks-warning" title="Permanent link"></a></h4>
<p>When a task with dependencies fails:</p>
<p><img alt="Dependent Tasks Warning" src="../img/django-monitor-task-1.png"/></p>
<p><strong>Subject:</strong> <code>[ALERT] {task_name} Status Check Failed</code></p>
<p><strong>Key Information:</strong>
- All standard task information
- <strong>Warning box</strong> highlighting dependent tasks
- List of tasks that may be delayed or fail</p>
<h3 id="email-subjects"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.8.3</span> Email Subjects<a class="headerlink" href="#email-subjects" title="Permanent link"></a></h3>
<p>The system uses different subject lines based on the scenario:</p>
<ul>
<li><strong>Status mismatch:</strong> <code>[ALERT] {task_name} Status Check Failed</code></li>
<li><strong>No execution:</strong> <code>[ALERT] {task_name} Has Not Executed</code></li>
</ul>
<hr/>
<h2 id="email-template-customization"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.9</span> Email Template Customization<a class="headerlink" href="#email-template-customization" title="Permanent link"></a></h2>
<p>The HTML email template is located at:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a>django_project/frontend/templates/emails/task_status_alert.html
</code></pre></div>
<h3 id="customizing-the-template"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.9.1</span> Customizing the Template<a class="headerlink" href="#customizing-the-template" title="Permanent link"></a></h3>
<ol>
<li><strong>Edit the template file</strong> at the path above</li>
<li><strong>Maintain the context variables</strong> used in the template</li>
<li><strong>Test thoroughly</strong> with your email client</li>
</ol>
<h3 id="available-template-variables"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.9.2</span> Available Template Variables<a class="headerlink" href="#available-template-variables" title="Permanent link"></a></h3>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>task_name</code></td>
<td>str</td>
<td>Name of the monitored task</td>
</tr>
<tr>
<td><code>current_status</code></td>
<td>str</td>
<td>Current status or "No execution found"</td>
</tr>
<tr>
<td><code>expected_statuses</code></td>
<td>str</td>
<td>Comma-separated expected statuses (title case)</td>
</tr>
<tr>
<td><code>lookback_hours</code></td>
<td>float</td>
<td>Lookback window in hours</td>
</tr>
<tr>
<td><code>started_at</code></td>
<td>datetime</td>
<td>Last task start time (or None)</td>
</tr>
<tr>
<td><code>finished_at</code></td>
<td>datetime</td>
<td>Last task finish time (or None)</td>
</tr>
<tr>
<td><code>check_time</code></td>
<td>datetime</td>
<td>When the check was performed</td>
</tr>
<tr>
<td><code>has_dependent_tasks</code></td>
<td>bool</td>
<td>Whether dependent tasks are specified</td>
</tr>
<tr>
<td><code>dependent_tasks</code></td>
<td>list</td>
<td>List of dependent task names</td>
</tr>
</tbody>
</table>
<h3 id="example-template-customization"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.9.3</span> Example Template Customization<a class="headerlink" href="#example-template-customization" title="Permanent link"></a></h3>
<p><strong>Add your company logo:</strong></p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"header"</span><span class="p">&gt;</span>
<a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a>    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">"https://yourcompany.com/logo.png"</span> <span class="na">alt</span><span class="o">=</span><span class="s">"Logo"</span> <span class="na">style</span><span class="o">=</span><span class="s">"height: 40px;"</span><span class="p">&gt;</span>
<a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a>    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span> Task Status Alert<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p><strong>Customize colors:</strong></p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="p">.</span><span class="nc">header</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#your</span><span class="o">-</span><span class="n">brand-color</span><span class="p">;</span>
<a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span>
<a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Add custom footer:</strong></p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"footer"</span><span class="p">&gt;</span>
<a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a>    <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>Action Required:<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span> Please investigate immediately.
<a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>    <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
<a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a>    Contact: support@yourcompany.com | Internal Docs: https://wiki.yourcompany.com/monitoring
<a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="testing-your-template"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.9.4</span> Testing Your Template<a class="headerlink" href="#testing-your-template" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="c1"># Start Django shell</span>
<a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a>python<span class="w"> </span>manage.py<span class="w"> </span>shell
<a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a>
<a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="c1"># Test the template rendering</span>
<a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a>from<span class="w"> </span>gap.tasks.monitoring<span class="w"> </span>import<span class="w"> </span>_send_notification
<a href="#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a>from<span class="w"> </span>django.utils<span class="w"> </span>import<span class="w"> </span>timezone
<a href="#__codelineno-15-7" id="__codelineno-15-7" name="__codelineno-15-7"></a>
<a href="#__codelineno-15-8" id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="c1"># This will attempt to send a test email</span>
<a href="#__codelineno-15-9" id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="c1"># Ensure you have email configured or use console backend for testing</span>
</code></pre></div>
<hr/>
<h2 id="troubleshooting"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.10</span> Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link"></a></h2>
<h3 id="issue-task-not-appearing-in-django-admin-dropdown"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.10.1</span> Issue: Task Not Appearing in Django Admin Dropdown<a class="headerlink" href="#issue-task-not-appearing-in-django-admin-dropdown" title="Permanent link"></a></h3>
<p><strong>Solution:</strong> Manually type <code>monitor_task_status</code> in the "Task (registered)" field.</p>
<p>The task may not appear in the dropdown initially but will work when typed manually.</p>
<h3 id="issue-notifications-not-being-sent"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.10.2</span> Issue: Notifications Not Being Sent<a class="headerlink" href="#issue-notifications-not-being-sent" title="Permanent link"></a></h3>
<p><strong>Checklist:</strong>
1.  Is the periodic task enabled in Django Admin?
2.  Is Celery Beat running?
3.  Are there superusers with email addresses (if <code>notify_to</code> not specified)?
4.  Check Celery logs for errors
5.  Verify email configuration in Django settings</p>
<p><strong>Debug Test:</strong>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">shell</span>
<a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a>
<a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">gap.tasks.monitoring</span><span class="w"> </span><span class="kn">import</span> <span class="n">monitor_task_status</span>
<a href="#__codelineno-16-4" id="__codelineno-16-4" name="__codelineno-16-4"></a>
<a href="#__codelineno-16-5" id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
<a href="#__codelineno-16-6" id="__codelineno-16-6" name="__codelineno-16-6"></a>    <span class="s2">"test_task"</span><span class="p">:</span> <span class="p">{</span>
<a href="#__codelineno-16-7" id="__codelineno-16-7" name="__codelineno-16-7"></a>        <span class="s2">"expected_statuses"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-16-8" id="__codelineno-16-8" name="__codelineno-16-8"></a>        <span class="s2">"lookback_hours"</span><span class="p">:</span> <span class="mi">24</span>
<a href="#__codelineno-16-9" id="__codelineno-16-9" name="__codelineno-16-9"></a>    <span class="p">}</span>
<a href="#__codelineno-16-10" id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="p">}</span>
<a href="#__codelineno-16-11" id="__codelineno-16-11" name="__codelineno-16-11"></a>
<a href="#__codelineno-16-12" id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="n">result</span> <span class="o">=</span> <span class="n">monitor_task_status</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<a href="#__codelineno-16-13" id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<h3 id="issue-valueerror-notify_to-is-empty-but-no-superuser-found"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.10.3</span> Issue: ValueError - "notify_to is empty but no superuser found"<a class="headerlink" href="#issue-valueerror-notify_to-is-empty-but-no-superuser-found" title="Permanent link"></a></h3>
<p><strong>Cause:</strong> No recipients configured and no superusers exist.</p>
<p><strong>Solutions:</strong></p>
<ol>
<li>
<p><strong>Add email addresses to config:</strong>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="p">{</span>
<a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">  </span><span class="nt">"task_name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">    </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">    </span><span class="nt">"notify_to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"admin@example.com"</span><span class="p">]</span>
<a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-17-6" id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="p">}</span>
</code></pre></div>
</li>
<li>
<p><strong>Create a superuser:</strong>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a>python<span class="w"> </span>manage.py<span class="w"> </span>createsuperuser
</code></pre></div>
</li>
</ol>
<p><strong>What happens:</strong> The full email content is logged to error logs before the exception is raised.</p>
<h3 id="issue-task-found-but-status-not-matching"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.10.4</span> Issue: Task Found But Status Not Matching<a class="headerlink" href="#issue-task-found-but-status-not-matching" title="Permanent link"></a></h3>
<p><strong>Check:</strong>
- Verify task name exactly matches <code>BackgroundTask.task_name</code>
- Check if lookback window is appropriate
- Review task execution logs</p>
<p><strong>Query BackgroundTask directly:</strong>
</p><div class="highlight"><pre><span></span><code><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">core.models.background_task</span><span class="w"> </span><span class="kn">import</span> <span class="n">BackgroundTask</span>
<a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">django.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">timezone</span>
<a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">timedelta</span>
<a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a>
<a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="n">lookback</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="n">tasks</span> <span class="o">=</span> <span class="n">BackgroundTask</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
<a href="#__codelineno-19-7" id="__codelineno-19-7" name="__codelineno-19-7"></a>    <span class="n">task_name</span><span class="o">=</span><span class="s1">'your_task_name'</span><span class="p">,</span>
<a href="#__codelineno-19-8" id="__codelineno-19-8" name="__codelineno-19-8"></a>    <span class="n">started_at__gte</span><span class="o">=</span><span class="n">lookback</span>
<a href="#__codelineno-19-9" id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">'-started_at'</span><span class="p">)</span>
<a href="#__codelineno-19-10" id="__codelineno-19-10" name="__codelineno-19-10"></a>
<a href="#__codelineno-19-11" id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">:</span>
<a href="#__codelineno-19-12" id="__codelineno-19-12" name="__codelineno-19-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">started_at</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<h3 id="issue-no-task-found-in-lookback-window"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.10.5</span> Issue: No Task Found in Lookback Window<a class="headerlink" href="#issue-no-task-found-in-lookback-window" title="Permanent link"></a></h3>
<p><strong>Possible causes:</strong>
- Task hasn't run recently
- Lookback window too short
- Task name mismatch</p>
<p><strong>Solutions:</strong>
- Increase <code>lookback_hours</code>
- Verify exact task name (case-sensitive)
- Check BackgroundTask table for task execution history</p>
<hr/>
<h2 id="advanced-context-model-validation"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.11</span> Advanced: Context Model Validation<a class="headerlink" href="#advanced-context-model-validation" title="Permanent link"></a></h2>
<p>For tasks that use context models (like <code>IngestorSession</code> or <code>CollectorSession</code>), you can validate the context type to monitor specific task variants.</p>
<h3 id="use-case"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.11.1</span> Use Case<a class="headerlink" href="#use-case" title="Permanent link"></a></h3>
<p>You want to monitor specifically "Hourly Tomorrow.io" ingestion, not all ingestor sessions.</p>
<h3 id="configuration"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.11.2</span> Configuration<a class="headerlink" href="#configuration" title="Permanent link"></a></h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="p">{</span>
<a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="w">  </span><span class="nt">"ingestor_session"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="w">    </span><span class="nt">"context_model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gap.models.IngestorSession"</span><span class="p">,</span>
<a href="#__codelineno-20-4" id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="w">    </span><span class="nt">"context_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hourly Tomorrow.io"</span><span class="p">,</span>
<a href="#__codelineno-20-5" id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="w">    </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-20-6" id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">    </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a href="#__codelineno-20-7" id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-20-8" id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="p">}</span>
</code></pre></div>
<h3 id="how-it-works_1"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.11.3</span> How It Works<a class="headerlink" href="#how-it-works_1" title="Permanent link"></a></h3>
<ol>
<li>Finds most recent <code>ingestor_session</code> BackgroundTask</li>
<li>Gets the associated IngestorSession instance using <code>context_id</code></li>
<li>Validates that <code>ingestor_type == "Hourly Tomorrow.io"</code></li>
<li>Only checks status if context validation passes</li>
</ol>
<h3 id="supported-context-models"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.11.4</span> Supported Context Models<a class="headerlink" href="#supported-context-models" title="Permanent link"></a></h3>
<table>
<thead>
<tr>
<th>Model</th>
<th>Validation Field</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gap.models.IngestorSession</code></td>
<td><code>ingestor_type</code></td>
</tr>
<tr>
<td><code>gap.models.CollectorSession</code></td>
<td><code>ingestor_type</code></td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="best-practices_1"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12</span> Best Practices<a class="headerlink" href="#best-practices_1" title="Permanent link"></a></h2>
<h3 id="1-start-simple"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12.1</span> 1. Start Simple<a class="headerlink" href="#1-start-simple" title="Permanent link"></a></h3>
<p>Begin with basic monitoring for critical tasks:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="p">{</span>
<a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">  </span><span class="nt">"critical_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-21-3" id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">    </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-21-4" id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">    </span><span class="nt">"notify_to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"admin@example.com"</span><span class="p">],</span>
<a href="#__codelineno-21-5" id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">    </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a href="#__codelineno-21-6" id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-21-7" id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="p">}</span>
</code></pre></div>
<h3 id="2-use-descriptive-periodic-task-names"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12.2</span> 2. Use Descriptive Periodic Task Names<a class="headerlink" href="#2-use-descriptive-periodic-task-names" title="Permanent link"></a></h3>
<p>Good: <code>Monitor Hourly Data Collection Tasks</code>
Bad: <code>Task Monitor 1</code></p>
<h3 id="3-set-appropriate-schedules"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12.3</span> 3. Set Appropriate Schedules<a class="headerlink" href="#3-set-appropriate-schedules" title="Permanent link"></a></h3>
<ul>
<li>Check 5-10 minutes after expected task completion</li>
<li>For hourly tasks expected at :00, check at :05 or :10</li>
<li>Don't check too frequently (wastes resources)</li>
</ul>
<h3 id="4-document-dependencies"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12.4</span> 4. Document Dependencies<a class="headerlink" href="#4-document-dependencies" title="Permanent link"></a></h3>
<p>Always list <code>dependent_tasks</code> to help responders understand impact:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="p">{</span>
<a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">  </span><span class="nt">"data_collection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">    </span><span class="nt">"dependent_tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"data_processing"</span><span class="p">,</span><span class="w"> </span><span class="s2">"report_generation"</span><span class="p">]</span>
<a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="5-test-before-production"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12.5</span> 5. Test Before Production<a class="headerlink" href="#5-test-before-production" title="Permanent link"></a></h3>
<ol>
<li>Create test periodic task with short interval</li>
<li>Verify emails are received</li>
<li>Check email formatting</li>
<li>Adjust configuration as needed</li>
</ol>
<h3 id="6-monitor-the-monitor"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12.6</span> 6. Monitor the Monitor<a class="headerlink" href="#6-monitor-the-monitor" title="Permanent link"></a></h3>
<ul>
<li>Set up alerting if monitoring tasks themselves fail</li>
<li>Review Celery Beat logs regularly</li>
<li>Ensure monitoring tasks are running</li>
</ul>
<h3 id="7-use-appropriate-lookback-windows"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.12.7</span> 7. Use Appropriate Lookback Windows<a class="headerlink" href="#7-use-appropriate-lookback-windows" title="Permanent link"></a></h3>
<p>Refer to the <a href="#lookback-hours-explanation">10.4 Lookback Hours Explanation</a> section for guidelines.</p>
<hr/>
<h2 id="complete-example-workflow"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.13</span> Complete Example Workflow<a class="headerlink" href="#complete-example-workflow" title="Permanent link"></a></h2>
<h3 id="scenario-monitor-daily-report-generation"><span class="enumerate-headings-plugin enumerate-heading-plugin">10.13.1</span> Scenario: Monitor Daily Report Generation<a class="headerlink" href="#scenario-monitor-daily-report-generation" title="Permanent link"></a></h3>
<p><strong>Task Details:</strong>
- Task runs daily at 8:00 AM UTC
- Usually completes within 30 minutes
- Creates reports used by management team
- Dependent on data collection tasks</p>
<p><strong>Step 1: Create Periodic Task</strong></p>
<p>Name: <code>Monitor Daily Report Generation</code></p>
<p><strong>Step 2: Configure Arguments</strong></p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="p">[</span>
<a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">  </span><span class="p">{</span>
<a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">    </span><span class="nt">"generate_daily_report"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">      </span><span class="nt">"expected_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Completed"</span><span class="p">],</span>
<a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">      </span><span class="nt">"notify_to"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"reports-team@example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"management@example.com"</span><span class="p">],</span>
<a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">      </span><span class="nt">"dependent_tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"send_report_emails"</span><span class="p">,</span><span class="w"> </span><span class="s2">"update_dashboard"</span><span class="p">],</span>
<a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">      </span><span class="nt">"lookback_hours"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">    </span><span class="p">}</span>
<a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">  </span><span class="p">}</span>
<a href="#__codelineno-23-10" id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="p">]</span>
</code></pre></div>
<p><strong>Step 3: Set Schedule</strong></p>
<p>Crontab: <code>35 8 * * *</code> (8:35 AM UTC - 35 minutes after expected completion)</p>
<p><strong>Step 4: Enable and Save</strong></p>
<p> Check "Enabled" box and save</p>
<p><strong>Step 5: Monitor Results</strong></p>
<ul>
<li>Check Celery logs for monitoring execution</li>
<li>Verify emails are received when tests fail</li>
<li>Adjust <code>lookback_hours</code> if needed</li>
</ul>
<hr/></div>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 9, 2026 12:59:27 UTC">January 9, 2026</span>
</span>
</aside>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Kartoza and Contributors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/kartoza" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.annotate", "content.tabs.link", "header.autohide", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
<script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
<script src="../../../js/tablesort.js"></script>
</body>
</html>